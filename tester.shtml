<!DOCTYPE HTML>
<html manifest="cache.manifest">
  <head>
    <meta content="en-us" http-equiv="Content-Language" />
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var version = '<!--#include virtual="VERSION" -->';
    </script>
    <script src="scripts/javascript/library.js" type="text/javascript"></script>
    <script src="scripts/javascript/tester.js" type="text/javascript"></script>
    <script src="scripts/javascript/tester-ui.js" type="text/javascript"></script>
    <script src="scripts/javascript/progress.js" type="text/javascript"></script>

    <link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css">
    <link href="css/tester.css" rel="stylesheet" type="text/css">

    <script type="text/javascript">
      var progress;
      $(function () {
        var tests = urlParameters.getURLParameter('testList');
        if (tests == '') {
          alert("You did not specify any tests, you are being redirected to a nonsense set of tests.  You should specify the `testList' URL parameter.");
          document.location.search = '?testList=' + JSON.stringify([['foo', 'bar'], ['bar', 'baz'], ['baz', 'qux']]);
          } else {
          console.log(unescape(tests));
          tests = JSON.parse(unescape(tests));
          var tester = new TesterUI('#prompt', '#response', '#submit-response', '#past-results', '#num-rounds-left', '#test-num', '#test-count',
                                    progress, tests);
          tester.beginTesting();
        }
      });
    </script>

    <title>Vocabulary Tester v<!--#include virtual="VERSION" --></title>
  </head>
  <body>
    <div id="test-holder" style="display:table; width:100%">
      <div id="past-esults" style="display:table-row-group">
      </div>
      <div id="test" style="display:table-row">
        <label style="display:inherit">
          <span class="prompt">
            <span id="test-num">1</span> of <span id="test-count">0</span>:&nbsp;
            <span id="prompt"></span>
          </span>
          &nbsp;&nbsp;&nbsp;
          <span class="response"><input type="text" name="response" id="response" autofocus /></span>
        </label>
        <br />
        <button type="submit" id="submit-response">Next Question</button>
      </div>
      <div class="results" id="results">
        <div class="progress" id="progress">
          <div class="progress-bar-holder">
            <div class="actual-progress-bar-holder">
              <div class="actual-progress-bar"></div>
            </div>
            <div class="overlay-progress-bar-holder ui-widget ui-progressbar ui-widget-content ui-corner-all">
              <div class="correct-progress-bar ui-corner-left ui-progressbar"></div>
              <div class="incorrect-progress-bar ui-progressbar"></div>
            </div>
          </div>
          <div class="progress-message" id="progress_message">
            Out of the first <span id="progress-message-num-done" name="progress-message-num-done">0</span> tests in this round: <br />
            Number Right: <span id="progress-message-num-correct" name="progress-message-num-correct">0</span> <br />
            Number Wrong: <span id="progress-message-num-incorrect" name="progress-message-num-incorrect">0</span>
          </div>
        </div>
        <script type="text/javascript">
          progress = new Progress(0,
                                  '.progress', '.progress-message', '.progress-bar-holder',
                                  '.actual-progress-bar', '.overlay-progress-bar-holder',
                                  '.correct-progress-bar', '.incorrect-progress-bar',
                                  '#progress-message-num-correct',
                                  '#progress-message-num-incorrect',
                                  '#progress-message-num-done');
        </script>
        <p>If you answer all the tests correctly in this round, you will have <span id="num-rounds-left">0</span> rounds left to do.</p>
      </div>
    </div>
  </body>
</html>
